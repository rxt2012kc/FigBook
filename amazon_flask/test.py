# -*- coding:utf-8 -*-#
import requests
import json
import os

'''
payload = {'itemId': '1548973246'}#0071809252
r = requests.get("http://0.0.0.0:5000/spider", params=payload)
print r.text
'''
'''
payload = {'text': '{"detail":['
                   '{"date":"2017.09.11","format":"kindle","review":'
                   '    "Dresses rarely fit me well because of a large bust. I\'m normally a 14 and the large fits me like it was made for me. It is very pretty and summery in color. The skirt half hits my mid knee which is perfect for work. This is a no wrinkle, cheerful dress with just the right sleeve. Th Princess seams give this knit shape and form. I really love it, it is a new favorite.I want to add that this is quite heavy with essentially 2 layers of knit forming the fabric. For me in Wisconsin this is a 3 season dress. However in a warmer state this might feel hot in the summer. I was surprised by the heft of the dress although it works for me. Very pleased.I want to add that this is quite heavy with essentially 2 layers of knit forming the fabric. For me in Wisconsin this is a 3 season dress. However in a warmer state this might feel hot in the summer. I was surprised by the heft of the dress although it works for me. Very pleased.My wife really likes this dress. It fits well and the garment is well made. As it is a simple design, it is a very versatile garment and she has taken it to wear on formal nights on a cruise, and to dinner matched with pearls. It travels well with no wrinkles and the advantage is it is washable.My wife really likes this dress. It fits well and the garment is well made. As it is a simple design, it is a very versatile garment and she has taken it to wear on formal nights on a cruise, and to dinner matched with pearls. It travels well with no wrinkles and the advantage is it is washable."},'
                   '{"date":"2017.09.12","format":"paper","review":"yy"}]}'}
'''
payload = {
    'text': '{"total": 9, "detail": [{"date": "2017-8-24", "review": "Head First Java Programming is an excellent way to learn Java.I purchased a few other books on Java and have found this one to be the best by far. Unlike most texts on Java, it actually goes through and teaches the subject rather than just serving as a reference material. Another great feature of this book is that it does not assume you already know C++ like most other Java books I purchased and subsequently put down after reading a few chapters. This is a great book if you are new to object oriented programming and would like to learn Java without having to first learn C++ and/or object oriented programming principles as a prerequisite.", "stars": "5.0", "format": "Kindle Edition"}, {"date": "2017-9-11", "review": "Unlike the other java programming books, this book conditions the reader to become familiar with object oriented techniques along with teaching java. Many of the concepts and tips translate easily to any programming languages. I\'m about half way through and I am completely satisfied with this java programming the complete reference book. The tone and delivery of all the lessons are incredibly easy to understand and helpful. Compared to other java books, I am learning better and faster with this book. I would absolutely recommend it to anyone who wants to learn java programming.", "stars": "5.0", "format": "Kindle Edition"}, {"date": "2017-8-13", "review": "Honestly, I\'ve never seen any computer book this relatable. This book actually talks to you rather than just throwing technical terms at you. It takes you through the concepts with ample amount of examples and pictures. And sometimes, it kind of feels like a kids book with all the pictures and the font(comic sans, really?). Don\'t get me wrong it actually helps understand things way better. Definitely recommended for anyone who needs to start learning java programming.", "stars": "5.0", "format": "Kindle Edition"}, {"date": "2017-9-11", "review": "This java book really helps you understand not only what is going on, but why you do things a certain way in programming. This is what sets it apart from some of the other good Java books.", "stars": "4.0", "format": "Kindle Edition"}, {"date": "2017-8-16", "review": "I highly recommend this book for Java Programming beginners. Mr kotiyana does a great job of explaining the java concepts and algorithms in detail. It is reader-friendly, whether you are a beginner or an expert in Java programming. It thoroughly covers the materials needed to become proficient in coding!", "stars": "4.0", "format": "Kindle Edition"}, {"date": "2017-8-23", "review": "Way bigger than I expected. Tons of information for the price! Learning everything I want to know about Java Programming and writing Java programs. Has all the details on how Java works and how to write programs. Highly recommend the book.", "stars": "5.0", "format": "Kindle Edition"}, {"date": "2017-9-5", "review": "Amazing book that I would recommend every Java developer have in his library. This book covers the best practices aspects of programming Java that are pretty hard to pick up without years and years of trial and error and seeing what works best. Great information about the best way to use java. Also contains many sections detailing how changes in java affect how you should implement your code. Best guide to be better java programmer just by following simple rules.", "stars": "5.0", "format": "Kindle Edition"}, {"date": "2017-8-13", "review": "What do I say about this book, that hasn\'t been said before. If you are new to computer science and programming and want to learn java, start with this book. It is not one of the best book for learning java programming but it is the best book for learning java, if you are a beginner.", "stars": "5.0", "format": "Kindle Edition"}, {"date": "2017-8-24", "review": "Well laid out in easy to follow format, the beginning pages give a good overview for the novice and builds progressively to professional level. As the intro states, you will be able to start from scratch without any previous exposure to any programming language.", "stars": "5.0", "format": "Kindle Edition"}]}'}
r = requests.get("http://0.0.0.0:5000/keyword", params=payload)
# r = requests.post("http://0.0.0.0:5000/keyword", data=json.dumps(payload))
# r = requests.get("http://0.0.0.0:5000/emotion", params=payload)
print r.text
# text = '%7B%22detail%22%3A%5B%7B%22date%22%3A%222017.09.11%22%2C%22format%22%3A%22kindle%22%2C%22review%22%3A++++%22Dresses+rarely+fit+me+well+because+of+a+large+bust.+I%27m+normally+a+14+and+the+large+fits+me+like+it+was+made+for+me.+It+is+very+pretty+and+summery+in+color.+The+skirt+half+hits+my+mid+knee+which+is+perfect+for+work.+This+is+a+no+wrinkle%2C+cheerful+dress+with+just+the+right+sleeve.+Th+Princess+seams+give+this+knit+shape+and+form.+I+really+love+it%2C+it+is+a+new+favorite.I+want+to+add+that+this+is+quite+heavy+with+essentially+2+layers+of+knit+forming+the+fabric.+For+me+in+Wisconsin+this+is+a+3+season+dress.+However+in+a+warmer+state+this+might+feel+hot+in+the+summer.+I+was+surprised+by+the+heft+of+the+dress+although+it+works+for+me.+Very+pleased.I+want+to+add+that+this+is+quite+heavy+with+essentially+2+layers+of+knit+forming+the+fabric.+For+me+in+Wisconsin+this+is+a+3+season+dress.+However+in+a+warmer+state+this+might+feel+hot+in+the+summer.+I+was+surprised+by+the+heft+of+the+dress+although+it+works+for+me.+Very+pleased.My+wife+really+likes+this+dress.+It+fits+well+and+the+garment+is+well+made.+As+it+is+a+simple+design%2C+it+is+a+very+versatile+garment+and+she+has+taken+it+to+wear+on+formal+nights+on+a+cruise%2C+and+to+dinner+matched+with+pearls.+It+travels+well+with+no+wrinkles+and+the+advantage+is+it+is+washable.My+wife+really+likes+this+dress.+It+fits+well+and+the+garment+is+well+made.+As+it+is+a+simple+design%2C+it+is+a+very+versatile+garment+and+she+has+taken+it+to+wear+on+formal+nights+on+a+cruise%2C+and+to+dinner+matched+with+pearls.+It+travels+well+with+no+wrinkles+and+the+advantage+is+it+is+washable.%22%7D%2C%7B%22date%22%3A%222017.09.12%22%2C%22format%22%3A%22paper%22%2C%22review%22%3A%22yy%22%7D%5D%7D'
# p = os.popen(#运行预测模型
#            'python /home/renxintao/amazon_flask/emotion/emotionanalysis_amazon.py "' + text + '"')
# res = p.read()
# print res
# '''
